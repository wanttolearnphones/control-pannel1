<!doctype html>

<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ritters OS ‚Äî Full Demo</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<header>
  <div style="display:flex;gap:12px;align-items:center">
    <h1>Ritters Control Panel ‚Äî Full Demo</h1>
    <div id="welcomeText" class="small">Please sign up or log in (Demo available)</div>
  </div>
  <div class="top-actions">
    <button class="btn" id="themeToggle">Toggle Theme</button>
    <button class="btn alt" id="logoutBtn" style="display:none">Logout</button>
  </div>
</header>
<div class="layout">
  <nav id="nav">
    <button data-tab="dashboard" class="active">Dashboard</button>
    <button data-tab="journal">Journal</button>
    <button data-tab="notes">Notes</button>
    <button data-tab="calendar">Calendar</button>
    <button data-tab="stopwatch">Stopwatch</button>
    <button data-tab="music">Music</button>
    <button data-tab="streaming">Streaming</button>
    <button data-tab="mood">Mood Tracker</button>
    <button data-tab="weather">Weather</button>
    <button data-tab="search">Search</button>
    <button data-tab="messages">Messages</button>
    <button data-tab="backgrounds">Backgrounds</button>
    <button data-tab="games">App Store</button>
    <button data-tab="profile">Profile</button>
  </nav>
  <main>
    <section id="tab-dashboard" class="active">
      <h2>Dashboard</h2>
      <div style="display:flex;gap:12px;flex-wrap:wrap">
        <div style="flex:1" class="card">
          <h3 class="small">Quick Tools</h3>
          <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:8px">
            <button class="btn" onclick="navTo('stopwatch')">Open Stopwatch</button>
            <button class="btn" onclick="navTo('music')">Open Music</button>
            <button class="btn" onclick="navTo('weather')">Open Weather</button>
            <button class="btn" onclick="navTo('search')">Open Search</button>
            <button class="btn" onclick="navTo('messages')">Open Messages</button>
          </div>
        </div>
        <div style="width:320px" class="card">
          <h3 class="small">Stats</h3>
          <div id="statsArea"></div>
        </div>
      </div>
    </section>
    <section id="tab-journal">
  <h2>Journal</h2>
  <input id="journalTitle" placeholder="Title">
  <textarea id="journalBody" rows="6" placeholder="Write..."></textarea>
  <div style="display:flex;gap:8px;margin-top:8px">
    <button class="btn" id="saveJournalBtn">Save Entry</button>
    <button class="btn alt" id="clearJournalBtn">Clear All</button>
  </div>
  <h3 style="margin-top:12px">Entries</h3>
  <div id="journalList"></div>
</section>

<section id="tab-notes">
  <h2>Notes</h2>
  <input id="noteTitle" placeholder="Note title">
  <textarea id="noteBody" rows="4" placeholder="Your note..."></textarea>
  <div style="display:flex;gap:8px;margin-top:8px">
    <button class="btn" id="saveNoteBtn">Save Note</button>
    <button class="btn alt" id="clearNotesBtn">Clear All</button>
  </div>
  <h3 style="margin-top:12px">Saved Notes</h3>
  <div id="notesList"></div>
</section>

<section id="tab-calendar">
  <h2>Calendar</h2>
  <div style="display:flex;gap:8px;flex-wrap:wrap">
    <input type="date" id="eventDate">
    <input id="eventTitle" placeholder="Event title">
    <button class="btn" id="saveEventBtn">Add Event</button>
  </div>
  <div style="margin-top:12px" id="calendarEventsList"></div>
</section>

<section id="tab-stopwatch">
  <h2>Stopwatch</h2>
  <div id="stopwatchDisplay" style="font-weight:700;font-size:1.4rem">00:00:00.000</div>
  <div style="display:flex;gap:8px;margin-top:8px">
    <button class="btn" id="startSW">Start</button>
    <button class="btn alt" id="stopSW">Stop</button>
    <button class="btn" id="resetSW">Reset</button>
    <button class="btn alt" id="lapSW">Lap</button>
  </div>
  <h4 style="margin-top:12px">Laps</h4>
  <div class="laps" id="lapsContainer"></div>
</section>

<section id="tab-music">
  <h2>Music Player</h2>
  <div style="display:flex;gap:8px;align-items:center">
    <input id="musicFile" type="file" accept="audio/*">
    <button class="btn" id="playFileBtn">Load & Play</button>
  </div>
  <audio id="musicPlayer" controls style="margin-top:12px;width:100%"></audio>
</section>

<section id="tab-streaming">
  <h2>Streaming</h2>
  <div class="stream-player-container">
    <h3 class="small">YouTube Music</h3>
    <iframe
      src="https://www.youtube.com/embed/videoseries?list=PL46f1gXlq-s8V4h-7Y7M1v4B4B9z4X34G"
      allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
      allowfullscreen
    ></iframe>
  </div>
  <div class="stream-player-container">
    <h3 class="small">Spotify</h3>
    <iframe
      src="https://open.spotify.com/embed/playlist/37i9dQZF1DXcBWIGoYbm5M?utm_source=generator"
      allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
      loading="lazy"
    ></iframe>
  </div>
</section>

<section id="tab-mood">
  <h2>Mood Tracker</h2>
  <div style="display:flex;gap:8px;flex-wrap:wrap">
    <select id="moodSelect">
      <option value="üòÅ">üòÅ Happy</option>
      <option value="üôÇ">üôÇ Fine</option>
      <option value="üòê">üòê Meh</option>
      <option value="üòî">üòî Sad</option>
      <option value="üò°">üò† Angry</option>
      <option value="üò¥">üò¥ Tired</option>
    </select>
    <input id="moodNote" placeholder="Optional note...">
    <button class="btn" id="saveMoodBtn">Save Mood</button>
  </div>
  <h4 style="margin-top:12px">Mood History</h4>
  <div id="moodHistory"></div>
</section>

<section id="tab-weather">
  <h2>Weather</h2>
  <div style="display:flex;gap:8px;flex-wrap:wrap">
    <input id="weatherCity" placeholder="City (e.g. London, GB)">
    <button class="btn" id="weatherSearchBtn">Search</button>
    <button class="btn alt" id="weatherDetectBtn">Use My Location</button>
  </div>
  <div style="margin-top:12px" id="weatherResult"></div>
</section>

<section id="tab-search">
  <h2>Search</h2>
  <div style="display:flex;gap:8px;align-items:center">
    <input id="searchQuery" placeholder="Search the web or ask a quick question..." onkeydown="if(event.key==='Enter') performSearch()">
    <button class="btn" id="doSearchBtn">Search</button>
    <button class="btn alt" id="openSearchInNewTab">Open in Google</button>
  </div>
  <div class="card">
    <div class="small">Quick Answer</div>
    <div id="searchQuick" class="search-results small">No query yet.</div>
  </div>
  <div class="card">
    <div class="small">Results</div>
    <div id="searchResults" class="search-results"></div>
  </div>
</section>

<section id="tab-messages">
  <h2>Messages (Demo Room)</h2>
  <div class="card">
    <div class="small">Public chat (stored locally)</div>
    <div id="msgList" class="msg-list"></div>
    <div style="display:flex;gap:8px;margin-top:8px">
      <input id="msgText" placeholder="Write a message..." onkeydown="if(event.key==='Enter') sendMessage()">
      <button class="btn" id="sendMsgBtn">Send</button>
    </div>
    <div class="small" style="margin-top:8px">This is a demo chat stored in your browser's localStorage. It works across tabs in the same browser profile.</div>
  </div>
</section>

<section id="tab-backgrounds">
  <h2>Live Backgrounds</h2>
  <div class="card">
    <div class="small">Choose a background</div>
    <select id="bgSelect">
      <option value="gradient">Gradient (default)</option>
      <option value="space">Space image</option>
      <option value="nature">Nature image</option>
      <option value="video">Animated video</option>
      <option value="solid">Solid color</option>
    </select>
    <div id="bgPreview" class="bg-preview" style="margin-top:10px"></div>
    <div style="display:flex;gap:8px;margin-top:8px">
      <button class="btn" id="bgApplyBtn">Apply & Save</button>
      <button class="btn alt" id="bgClearBtn">Clear</button>
    </div>
  </div>
</section>

<section id="tab-games">
  <h2>App Store / Mini Games</h2>
  <p>Play some small games right inside the OS. Your high scores will save locally.</p>
  <div class="card">
    <div style="display:flex;align-items:center;gap:12px">
      <span style="font-size:32px">üêç</span>
      <div>
        <strong>Snake</strong>
        <div class="small">A classic game of snake.</div>
      </div>
    </div>
    <div style="margin-top:12px">
      <button class="btn" onclick="navTo('snake')">Play Snake</button>
    </div>
  </div>
  <p style="margin-top:20px;opacity:0.8">More games coming soon...</p>
</section>

<section id="tab-snake">
  <div id="gamesPanel">
    <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px;">
      <span style="font-size:26px">üéÆ Snake</span>
    </div>
    <div id="snakeWrap" role="region" aria-label="Snake Game">
      <div id="snakeHeader">
        <div>
          <div style="font-size:18px;font-weight:700">Snake</div>
          <div id="snakeInfo">Use arrow keys or swipe to play. Eat apples to grow.</div>
        </div>
        <div style="text-align:right">
          <div id="snakeScore">Score: 0</div>
          <div id="snakeHigh" style="opacity:0.8;font-size:13px">High: 0</div>
        </div>
      </div>
      <canvas id="snakeCanvas" width="360" height="360"></canvas>
      <div class="snakeControls">
        <button id="snakeStart" class="btn">Start</button>
        <button id="snakePause" class="btn alt">Pause</button>
        <button id="snakeReset" class="btn alt">Restart</button>
        <button id="snakeClose" class="btn alt" onclick="navTo('games')">Close</button>
      </div>
    </div>
  </div>
</section>

<section id="tab-profile">
  <h2>Profile</h2>
  <div style="display:flex;gap:12px;align-items:center">
    <img id="profilePic" class="profile-pic" src="" alt="pic">
    <div style="flex:1">
      <div class="small">Username</div>
      <div id="profileName" style="font-weight:700"></div>
      <div class="small" id="profileJoined"></div>
    </div>
  </div>
  <div style="margin-top:12px">
    <input id="editBio" placeholder="Bio">
    <input id="editPic" type="file" accept="image/*">
    <div style="display:flex;gap:8px;margin-top:8px">
      <button class="btn" id="saveProfileBtn">Save Profile</button>
      <button class="btn alt" id="deleteAccountBtn">Delete Account</button>
    </div>
  </div>
  <h3 style="margin-top:12px">Your Stats</h3>
  <div id="profileStats"></div>
</section>

  </main>
    <aside>
    <div style="display:flex;gap:12px;align-items:center;margin-bottom:12px">
      <img id="asidePic" class="profile-pic" src="">
      <div>
        <div id="asideName" style="font-weight:700"></div>
        <div class="small" id="asideBio"></div>
      </div>
    </div>
<div class="card">
  <div class="small">Quick Weather</div>
  <div id="asideWeather" style="margin-top:8px">‚Äî</div>
</div>

<div class="card">
  <div class="small">Session</div>
  <div style="margin-top:8px">
    <div id="currentUserLabel"></div>
    <button class="btn alt" id="logoutBtnAside" style="margin-top:8px">Logout</button>
  </div>
</div>

  </aside>
</div>
<footer>Ritters Control Panel ‚Ä¢ Demo ‚Äî Local data only</footer>
<div id="authModal" class="modal-backdrop" style="display:none">
  <div class="auth-card">
    <div class="auth-top">
      <img id="authPreview" class="profile-pic" src="">
      <div style="flex:1">
        <h2 class="auth-title" id="authTitle">Welcome</h2>
        <div class="small" id="authSubtitle
